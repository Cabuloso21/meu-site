<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro de Email e Senha</title>
</head>
<body>
  
 <style>
  
 body {
 margin: 0;
 font-family: Arial, sans-serif

 }

 header {
 background: goldenrod;
 padding: 15px; 
 
 }

 .container {
 background: white;
 border: 1px solid #ccc;
 border-radius: 5px;
 margin-left: 30px;
 margin-right: 30px;
 margin-top: 30px;
 padding: 10px;
 height: 240px;

}

 .text {
 color: black;
 font-size: 20px;
 font-weight: bold;
 text-align: center;
}

 .title {
 color: black;
 font-size: 16.50px;
 font-weight: none;
 text-align: center;
 margin-top: 20px;
 margin-left: 10px;
 margin-right: 10px;
 line-height: 1.5;
 font-style: none;

 }

 .nome, .senha {
 color: black;
 font-size: 16px;
 font-weight: bold;
 margin-top: 20px;
 text-align: absolute;
 margin-left: 14px;
     
}

 input {
 padding: 10px;
 border-radius: 5px;
 border: 1.5px solid #ccc;
 margin-top: 5px;
 display: flex;
 margin-left: 10px;
 width: 85%;

 }

 button {
 background: goldenrod;
 border-radius: 10px;
 border: 1px solid orange;
 padding: 10px; 
 margin-top: 20px;
 font-weight: bold;
 margin-left: 35%;

}

 p {
 color: black;
 font-size: 15.50px;
 text-align: center;
 margin-left: 10px;
 margin-right: 10px;
 }

 footer {
 margin-top: 30px;
 text-align: center;
 margin-bottom: 20px;
 }

 .brand {
 color: #777;
 font-size: 12px;
}

</style>  
  
</head>
<body>
<header>
<div class="text">Criar conta</div>
</header>
 
<div class="title">Ao criar sua conta, lembre-se do nome de usuário e da senha, pois ela será usada para que você possa acessar sua conta. Se você esquecer dela, não será possível recuperá-la.</div>
</div>
</div>
  
 <div class="container">
 <div class="nome">Nome ou email</div>
 <input type="email" id="email" placeholder="Digite seu nome ou email">
 
 <div class="senha">Senha</div>
 <input type="password" id="newPassword" placeholder="Digite uma senha">
 <button onclick="register()">Cadastrar</button>
 </div>
 </div>
 <p id="message"></p>
 </div>
 </div>

 <footer>
 <div class="brand">&copy;2024°-Publicador - todos os direitos reservados.</div>
 </footer>


       <script>
        function register() {
            var emailInput = document.getElementById("email");
            var newPasswordInput = document.getElementById("newPassword");
            var message = document.getElementById("message");

            var email = emailInput.value;
            var newPassword = newPasswordInput.value;

            if (localStorage.getItem("emailRegistered")) {
                message.textContent = "Ops. um usuário já foi cadastrado neste dispositivo.";
                return;
            }

            if (email && newPassword) {
                var users = JSON.parse(localStorage.getItem("users")) || {};

                if (users[email]) {
                    message.textContent = "Este email já está cadastrado.";
                } else {
                    users[email] = newPassword;
                    localStorage.setItem("users", JSON.stringify(users));
                    localStorage.setItem("emailRegistered", true); // Marcar que um email foi cadastrado
                    message.textContent = "Email e senha cadastrados com sucesso.";

                    // Limpar campos de input
                    emailInput.value = "";
                    newPasswordInput.value = "";

                    // Armazenar dados permanentemente no localStorage
                    localStorage.setItem("cadastroEmail", email);
                    localStorage.setItem("cadastroSenha", newPassword);

                    // Exibir mensagem de confirmação com link para a página de login
                    var confirmacaoMessage = document.createElement("p");
                    confirmacaoMessage.textContent = "Cadastro realizado com sucesso! Clique ";
                    var loginLink = document.createElement("a");
                    loginLink.href = "prataforma.html";
                    loginLink.textContent = "aqui";
                    confirmacaoMessage.appendChild(loginLink);
                    confirmacaoMessage.innerHTML += " para fazer login.";
                    document.body.appendChild(confirmacaoMessage);
                }
            } else {
                message.textContent = "O email e a senha não podem estar em branco.";
            }
        }
    </script>
</body>
</html>
